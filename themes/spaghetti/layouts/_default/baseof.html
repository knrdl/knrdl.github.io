<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default " en-us" }}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv='Content-Security-Policy'
          content="default-src 'none'; style-src 'self' 'unsafe-inline'; img-src 'self'">
    <link rel="shortcut icon" type="image/png" href="favicon.png"/>
    <link rel="sitemap" type="application/xml" title="Sitemap" href="sitemap.xml">

    <!-- Title and description -->
    <title>{{ .Title }}</title>
    {{ with .Site.Params.description -}}
    <meta name="description" content="{{ . }}">
    {{ end -}}

    <!-- OpenGraph -->
    {{ template "_internal/opengraph.html" . -}}
    {{ with .Site.Params.author -}}
    <meta name="author" content="{{ . }}">
    {{ end -}}

    <!-- RSS -->
    {{ range .AlternativeOutputFormats -}}
    <link rel="{{ .Rel }}" type="{{ .MediaType.Type }}" href="{{ .Permalink | safeURL }}">
    {{ end -}}

    <!-- CSS -->
    {{ $css := resources.Match "*.css" | resources.Concat "style.css" | minify }}
    {{ $secureCss := $css | resources.Fingerprint "sha256" }}
    <link rel="stylesheet" href="{{ $secureCss.Permalink }}" integrity="{{ $secureCss.Data.Integrity }}">
</head>

<body>
{{ partial "header" . }}
{{ block "main" . }}{{ end }}
{{ partial "footer" . }}
</body>

</html>
