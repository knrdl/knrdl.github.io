<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Zip on knrdlog</title><link>https://knrdl.github.io/tags/zip/</link><description>Recent content in Zip on knrdlog</description><language>en-us</language><copyright>Licensed under &lt;a href='https://creativecommons.org/publicdomain/zero/1.0/' target='_blank' rel='noopener norefferer'&gt;CC0 1.0&lt;/a&gt; |
&lt;a href="https://gohugo.io" target='_blank' rel='noopener norefferer'&gt;Hugo&lt;/a&gt; theme inspired by &lt;a href="https://github.com/vamc19" target='_blank' rel='noopener norefferer'&gt;vamc19&lt;/a&gt; |
Hosted by &lt;a href="https://pages.github.com" target='_blank' rel='noopener norefferer'&gt;Github&lt;/a&gt; (&lt;a href="https://github.com/site/privacy" target='_blank' rel='noopener norefferer'&gt;Privacy Policy&lt;/a&gt;)</copyright><lastBuildDate>Tue, 13 Feb 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://knrdl.github.io/tags/zip/index.xml" rel="self" type="application/rss+xml"/><item><title>Generate encrypted 7zip files</title><link>https://knrdl.github.io/posts/encrypted-7zip-files/</link><pubDate>Tue, 13 Feb 2024 00:00:00 +0000</pubDate><guid>https://knrdl.github.io/posts/encrypted-7zip-files/</guid><description>&lt;p&gt;Using 7zip files as encrypted backups is a quick and dirty workaround for a proper backup solution.&lt;/p&gt;
&lt;p&gt;First generate a &lt;strong&gt;strong&lt;/strong&gt; password, e.g.: &lt;code&gt;pwgen -1sB 128&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="backup-without-compression" class="paragraph-header"&gt;Backup without compression &lt;a
href="#backup-without-compression"&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;7z a -mx=0 -mhe=on -m0=Copy -p&amp;quot;$PASSWORD&amp;quot; TARGET.7z SOURCE_FOLDERS_*&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;mx=0&lt;/code&gt; and &lt;code&gt;m0=Copy&lt;/code&gt; mean: just copy the files, do not compress them&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;mhe=on&lt;/code&gt; means: also encrypt the 7z headers, so the password is also required for listing the file tree&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="backup-with-compression" class="paragraph-header"&gt;Backup with compression &lt;a
href="#backup-with-compression"&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;7z a -mx=3 -mhe=on -ms=on -p&amp;quot;$PASSWORD&amp;quot; TARGET.7z SOURCE_FOLDERS_*&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ms=on&lt;/code&gt; treats everything as a single file (find duplicates)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="check-the-archive-file" class="paragraph-header"&gt;Check the archive file &lt;a
href="#check-the-archive-file"&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;7z l -slt -p&amp;quot;$PASSWORD&amp;quot; TARGET.7z&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;7zAES:19&lt;/code&gt; means secure AES-256 encryption (plus some password hashing, see
&lt;a href="https://sourceforge.net/p/p7zip/patches/25/#3da5" target="_blank" rel="noopener noreferrer"&gt;here&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;</description></item></channel></rss>