<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta http-equiv=Content-Security-Policy content="default-src 'none'; style-src 'self' 'unsafe-inline'; img-src 'self' https:; font-src 'self'; script-src 'unsafe-inline'"><link rel="shortcut icon" type=image/png href=/favicon.png><link rel=sitemap type=application/xml href=/sitemap.xml title=knrdlog><title>InfluxDB v2: Single Sign On</title><meta name=description content="notes to self"><meta property="og:url" content="https://knrdl.github.io/posts/influxdb2-sso/"><meta property="og:site_name" content="knrdlog"><meta property="og:title" content="InfluxDB v2: Single Sign On"><meta property="og:description" content="The TICK stack v1 did not enforce authentication. So SSO for the Chronograf WebUI could be handled easily via the reverse proxy. InfluxDB v2 includes a WebUI on its own and therefore replaces Chronograf. As InfluxDB v2 enforces built-in authentication there must be accounts. But InfluxDB v2 has no SSO capabilities. The solution is to create an “All Access API Token” and inject it via the reverse proxy, e.g. Caddy:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-30T00:00:00+00:00"><meta property="article:modified_time" content="2023-10-30T12:18:39+01:00"><meta property="article:tag" content="Influxdb"><meta property="article:tag" content="Devops"><meta name=author content="knrdl"><link rel=stylesheet href=https://knrdl.github.io/styles.min.b1eb305989f01c7be31a7a19d4ab34ca470eddd06327253c7bcf3d1c5a41d28c.css integrity="sha256-seswWYnwHHvjGnoZ1Ks0ykcO3dBjJyU8e889HFpB0ow="></head><body><header><div class=site-header><span><a href=https://knrdl.github.io/ class=site-title>knrdlog</a>
</span><span><nav class=right-menu><span class=menu-item><a href=/tags/>tags</a></span>
<span class=menu-item><a href=https://github.com/knrdl target=_blank rel="noopener noreferrer">github</a></span>
<span class=menu-item><a href=/index.xml>rss</a></span></nav></span></div><div class=separator>================================================================================================================================================================</div></header><main><article><div class=post-header><h1>InfluxDB v2: Single Sign On</h1><time datetime=2023-10-30 class=pubdate>2023-10-30</time>
<span class=tags><a href=/tags/devops class=hashtag>devops</a>
<a href=/tags/influxdb class=hashtag>influxdb</a></span></div><p>The <abbr title="Telegraf, InfluxDB, Chronograf, Kapacitor">TICK</abbr> stack v1 did not enforce authentication. So SSO for the Chronograf WebUI could be handled easily via the reverse proxy. InfluxDB v2 includes a WebUI on its own and therefore replaces Chronograf. As InfluxDB v2 enforces built-in authentication there must be accounts. But InfluxDB v2 has no <abbr title="Single Sign On">SSO</abbr> capabilities. The solution is to create an &ldquo;All Access API Token&rdquo; and inject it via the reverse proxy, e.g. Caddy:</p><pre tabindex=0><code>monitor.example.org {
    reverse_proxy influxdb:8086 {
        header_up Authorization &#34;Token YOUR_TOKEN&#34;
    }
}
</code></pre><p>Now the WebUI does not require built-in authentication anymore and it could be handled by the reverse proxy again.</p><p>The other always working, obvious solution is to just use Grafana instead.</p><div class=comments><a href="https://github.com/knrdl/knrdl.github.io/issues/new?title=InfluxDB+v2%3A+Single+Sign+On" target=_blank rel="noopener noreferrer"><img src=https://knrdl.github.io/github.png alt="Github logo" style=filter:invert(.7) width=17 height=17>
<span>Feedback</span></a></div></article></main><hr><footer>Licensed under <a href=https://creativecommons.org/publicdomain/zero/1.0/ target=_blank rel='noopener norefferer'>CC0 1.0</a> |
<a href=https://gohugo.io target=_blank rel='noopener norefferer'>Hugo</a> theme inspired by <a href=https://github.com/vamc19 target=_blank rel='noopener norefferer'>vamc19</a> |
Hosted by <a href=https://pages.github.com target=_blank rel='noopener norefferer'>Github</a> (<a href=https://github.com/site/privacy target=_blank rel='noopener norefferer'>Privacy Policy</a>)</footer></body></html>