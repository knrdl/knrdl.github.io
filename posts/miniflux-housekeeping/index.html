<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta http-equiv=Content-Security-Policy content="default-src 'none'; style-src 'self' 'unsafe-inline'; img-src 'self' https:; font-src 'self'; script-src 'unsafe-inline'"><link rel="shortcut icon" type=image/png href=/favicon.png><link rel=sitemap type=application/xml href=/sitemap.xml title=knrdlog><title>Miniflux Housekeeping</title>
<meta name=description content="notes to self"><meta property="og:title" content="Miniflux Housekeeping"><meta property="og:description" content="Miniflux is a feed reader. As adding feeds is easy, some bloat will appear.
Article Age List the top 10 feeds with the oldest articles. No updates, no need to keep a subscription.
select f.feed_url, f.title, (select max(published_at) from public.entries where feed_id = f.id) last_published_at from feeds f where f.user_id = (select id from users where username = 'knrdl') order by last_published_at limit 10; Article Count List the top 10 feeds with the fewest articles."><meta property="og:type" content="article"><meta property="og:url" content="https://knrdl.github.io/posts/miniflux-housekeeping/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-18T00:00:00+00:00"><meta property="article:modified_time" content="2023-01-18T23:22:11+01:00"><meta name=author content="knrdl"><link rel=stylesheet href=https://knrdl.github.io/styles.min.b1eb305989f01c7be31a7a19d4ab34ca470eddd06327253c7bcf3d1c5a41d28c.css integrity="sha256-seswWYnwHHvjGnoZ1Ks0ykcO3dBjJyU8e889HFpB0ow="></head><body><header><div class=site-header><span><a href=https://knrdl.github.io/ class=site-title>knrdlog</a>
</span><span><nav class=right-menu><span class=menu-item><a href=/tags/>tags</a></span>
<span class=menu-item><a href=https://github.com/knrdl target=_blank rel="noopener noreferrer">github</a></span>
<span class=menu-item><a href=/index.xml>rss</a></span></nav></span></div><div class=separator>================================================================================================================================================================</div></header><main><article><div class=post-header><h1>Miniflux Housekeeping</h1><time datetime=2023-01-18 class=pubdate>2023-01-18</time>
<span class=tags><a href=/tags/miniflux class=hashtag>miniflux</a>
<a href=/tags/sql class=hashtag>sql</a></span></div><p><a href=https://miniflux.app/ target=_blank rel="noopener noreferrer">Miniflux</a> is a feed reader. As adding feeds is easy, some bloat will appear.</p><h3 id=article-age class=paragraph-header>Article Age <a href=#article-age></a></h3><p>List the top 10 feeds with the oldest articles. No updates, no need to keep a subscription.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#ff79c6>select</span> f.feed_url, f.title,
</span></span><span style=display:flex><span>(<span style=color:#ff79c6>select</span> <span style=color:#ff79c6>max</span>(published_at) <span style=color:#ff79c6>from</span> <span style=color:#ff79c6>public</span>.entries <span style=color:#ff79c6>where</span> feed_id <span style=color:#ff79c6>=</span> f.id) last_published_at
</span></span><span style=display:flex><span><span style=color:#ff79c6>from</span> feeds f <span style=color:#ff79c6>where</span> f.user_id <span style=color:#ff79c6>=</span> (<span style=color:#ff79c6>select</span> id <span style=color:#ff79c6>from</span> users <span style=color:#ff79c6>where</span> username <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;knrdl&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#ff79c6>order</span> <span style=color:#ff79c6>by</span> last_published_at <span style=color:#ff79c6>limit</span> <span style=color:#bd93f9>10</span>;
</span></span></code></pre></div><h3 id=article-count class=paragraph-header>Article Count <a href=#article-count></a></h3><p>List the top 10 feeds with the fewest articles. An article count of 0 either means that the feed never produced articles since you subscribed to it. But it can also mean that the articles have been removed from the source after you read them (Miniflux marks old read articles as removed in the DB and deletes them if they disappear from the source).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#ff79c6>select</span> f.feed_url, f.title,
</span></span><span style=display:flex><span>(<span style=color:#ff79c6>select</span> <span style=color:#ff79c6>count</span>(<span style=color:#ff79c6>*</span>) <span style=color:#ff79c6>from</span> <span style=color:#ff79c6>public</span>.entries <span style=color:#ff79c6>where</span> feed_id <span style=color:#ff79c6>=</span> f.id) article_count
</span></span><span style=display:flex><span><span style=color:#ff79c6>from</span> feeds f <span style=color:#ff79c6>where</span> f.user_id <span style=color:#ff79c6>=</span> (<span style=color:#ff79c6>select</span> id <span style=color:#ff79c6>from</span> users <span style=color:#ff79c6>where</span> username <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;knrdl&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#ff79c6>order</span> <span style=color:#ff79c6>by</span> article_count <span style=color:#ff79c6>limit</span> <span style=color:#bd93f9>10</span>;
</span></span></code></pre></div><div class=comments><a href="https://github.com/knrdl/knrdl.github.io/issues/new?title=Miniflux+Housekeeping" target=_blank rel="noopener noreferrer"><img src=https://knrdl.github.io/github.png alt="Github logo" style=filter:invert(.7) width=17 height=17>
<span>Feedback</span></a></div></article></main><hr><footer>Licensed under <a href=https://creativecommons.org/publicdomain/zero/1.0/ target=_blank rel='noopener norefferer'>CC0 1.0</a> |
<a href=https://gohugo.io target=_blank rel='noopener norefferer'>Hugo</a> theme inspired by <a href=https://github.com/vamc19 target=_blank rel='noopener norefferer'>vamc19</a> |
Hosted by <a href=https://pages.github.com target=_blank rel='noopener norefferer'>Github</a> (<a href=https://github.com/site/privacy target=_blank rel='noopener norefferer'>Privacy Policy</a>)</footer></body></html>