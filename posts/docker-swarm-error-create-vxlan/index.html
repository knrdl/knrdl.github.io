<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta http-equiv=content-security-policy content="default-src 'none'; style-src 'self' 'unsafe-inline'; img-src 'self' https:; font-src 'self'; script-src 'unsafe-inline'"><link rel="shortcut icon" type=image/png href=/favicon.png><link rel=sitemap type=application/xml href=/sitemap.xml title=knrdlog><title>Docker Swarm: `error creating vxlan interface: file exists`</title><meta name=description content="notes to self"><meta property="og:title" content="Docker Swarm: `error creating vxlan interface: file exists`"><meta property="og:description" content="If docker swarm rejects to deploy a service because network interface already exists:
$ docker service ps stackname_appname --no-trunc Rejected 34 seconds ago &#34;network sandbox join failed: subnet sandbox join failed for &#34;10.0.14.0/24&#34;: error creating vxlan interface: file exists Then find all problematic interfaces on the host and delete them:
$ ip -d link show | grep vx | grep DOWN $ sudo ip link delete vx-001095-owhr8 # for each entry Now redeploying should work!"><meta property="og:type" content="article"><meta property="og:url" content="https://knrdl.github.io/posts/docker-swarm-error-create-vxlan/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-10T00:00:00+00:00"><meta property="article:modified_time" content="2022-04-10T20:34:22+02:00"><meta name=author content="knrdl"><link rel=stylesheet href=https://knrdl.github.io/styles.min.a31357fe73c92b84f5afc348cdfd6a2aae125ca026214c2bfbf283859671b0e7.css integrity="sha256-oxNX/nPJK4T1r8NIzf1qKq4SXKAmIUwr+/KDhZZxsOc="></head><body><header><div class=site-header><span><a href=https://knrdl.github.io/ class=site-title>knrdlog</a></span>
<span><nav class=right-menu><span class=menu-item><a href=/tags/>tags</a></span>
<span class=menu-item><a href=https://github.com/knrdl target=_blank rel="noopener noreferrer">github</a></span>
<span class=menu-item><a href=/index.xml>rss</a></span></nav></span></div><div class=separator>================================================================================================================================================================</div></header><main><article><div class=post-header><h1>Docker Swarm: `error creating vxlan interface: file exists`</h1><time datetime=2022-04-10 class=pubdate>2022-04-10</time>
<span class=tags><a href=/tags/devops class=hashtag>devops</a>
<a href=/tags/docker class=hashtag>docker</a>
<a href=/tags/docker-swarm class=hashtag>docker-swarm</a></span></div><p>If docker swarm rejects to deploy a service because network interface already exists:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ docker service ps stackname_appname --no-trunc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Rejected <span style=color:#bd93f9>34</span> seconds ago   <span style=color:#f1fa8c>&#34;network sandbox join failed: subnet sandbox join failed for &#34;</span>10.0.14.0/24<span style=color:#f1fa8c>&#34;: error creating vxlan interface: file exists
</span></span></span></code></pre></div><p>Then find all problematic interfaces on the host and delete them:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ ip -d link show | grep vx | grep DOWN
</span></span><span style=display:flex><span>$ sudo ip link delete vx-001095-owhr8  <span style=color:#6272a4># for each entry</span>
</span></span></code></pre></div><p>Now redeploying should work!</p><div class=comments><a href="https://github.com/knrdl/knrdl.github.io/issues/new?title=Docker+Swarm%3A+%60error+creating+vxlan+interface%3A+file+exists%60" target=_blank rel="noopener noreferrer"><img src=https://knrdl.github.io/github.png alt="Github logo" style=filter:invert(.7) width=17 height=17>
<span>Feedback</span></a></div></article></main><hr><footer>Licensed under <a href=https://creativecommons.org/publicdomain/zero/1.0/ target=_blank rel='noopener norefferer'>CC0 1.0</a> |
<a href=https://gohugo.io target=_blank rel='noopener norefferer'>Hugo</a> theme inspired by <a href=https://github.com/vamc19 target=_blank rel='noopener norefferer'>vamc19</a> |
Hosted by <a href=https://pages.github.com target=_blank rel='noopener norefferer'>Github</a> (<a href=https://github.com/site/privacy target=_blank rel='noopener norefferer'>Privacy Policy</a>)</footer></body></html>